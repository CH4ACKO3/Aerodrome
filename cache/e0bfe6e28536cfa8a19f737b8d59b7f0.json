{"expires":1743605058.842,"value":{"highlighted":"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  1</span><span style=\"color: #0991B6;\">class</span><span style=\"color: #002339;\"> </span><span style=\"color: #0444AC;\">WingedCone2D_Classic</span><span style=\"color: #002339;\"> : </span><span style=\"color: #0991B6;\">public</span><span style=\"color: #002339;\"> </span><span style=\"color: #0444AC;\">WingedCone2D</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  2</span><span style=\"color: #002339;\">{</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  3</span><span style=\"color: #0991B6;\">public:</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  4</span><span style=\"color: #357B42;\">    // 俯仰角增稳过载驾驶仪控制参数</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  5</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> Kiz;</span><span style=\"color: #357B42;\">   // 积分增益</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  6</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> Kwz;</span><span style=\"color: #357B42;\">   // 角速度增益</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  7</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> Kaz;</span><span style=\"color: #357B42;\">   // 增稳回路增益</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  8</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> Kpz;</span><span style=\"color: #357B42;\">   // 比例增益</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  9</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 10</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> eNy;</span><span style=\"color: #357B42;\"> // 过载跟踪误差</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 11</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> i_eNy;</span><span style=\"color: #357B42;\"> // 过载积分项</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 12</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> p_eNy;</span><span style=\"color: #357B42;\"> // 过载比例项</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 13</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 14</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> i_eSAC;</span><span style=\"color: #357B42;\"> // 增稳回路积分项</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 15</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 16</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> Kp_V, Ki_V, Kd_V;</span><span style=\"color: #357B42;\"> // 速度控制参数</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 17</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 18</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> i_V;</span><span style=\"color: #357B42;\"> // 速度积分项</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 19</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> d_eV;</span><span style=\"color: #357B42;\"> // 速度微分项</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 20</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> eV_prev;</span><span style=\"color: #357B42;\"> // 速度误差前值</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 21</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 22</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> Ny;</span><span style=\"color: #357B42;\"> // 当前过载</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 23</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> wz;</span><span style=\"color: #357B42;\"> // 当前滚转角速度</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 24</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 25</span><span style=\"color: #002339;\">    </span><span style=\"color: #B1108E;\">WingedCone2D_Classic</span><span style=\"color: #002339;\">() {}</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 26</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 27</span><span style=\"color: #002339;\">    </span><span style=\"color: #B1108E;\">WingedCone2D_Classic</span><span style=\"color: #002339;\">(py::</span><span style=\"color: #0444AC;\">dict</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">input_dict</span><span style=\"color: #002339;\">) : </span><span style=\"color: #B1108E;\">WingedCone2D</span><span style=\"color: #002339;\">(input_dict)</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 28</span><span style=\"color: #002339;\">    {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 29</span><span style=\"color: #002339;\">        Kiz </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">input_dict</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Kiz</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 30</span><span style=\"color: #002339;\">        Kwz </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">input_dict</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Kwz</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 31</span><span style=\"color: #002339;\">        Kaz </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">input_dict</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Kaz</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 32</span><span style=\"color: #002339;\">        Kpz </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">input_dict</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Kpz</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 33</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 34</span><span style=\"color: #002339;\">        Kp_V </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">input_dict</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Kp_V</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 35</span><span style=\"color: #002339;\">        Ki_V </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">input_dict</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Ki_V</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 36</span><span style=\"color: #002339;\">        Kd_V </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">input_dict</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Kd_V</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 37</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 38</span><span style=\"color: #002339;\">        eNy </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 39</span><span style=\"color: #002339;\">        i_eNy </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 40</span><span style=\"color: #002339;\">        p_eNy </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 41</span><span style=\"color: #002339;\">        i_eSAC </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 42</span><span style=\"color: #002339;\">        i_V </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 43</span><span style=\"color: #002339;\">        d_eV </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 44</span><span style=\"color: #002339;\">        eV_prev </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 45</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 46</span><span style=\"color: #002339;\">        </span><span style=\"color: #B1108E;\">_D</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 47</span><span style=\"color: #002339;\">        </span><span style=\"color: #B1108E;\">_L</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 48</span><span style=\"color: #002339;\">        </span><span style=\"color: #B1108E;\">_T</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 49</span><span style=\"color: #002339;\">        </span><span style=\"color: #B1108E;\">_M</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 50</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 51</span><span style=\"color: #002339;\">        Ny </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> (T </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (</span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(alpha) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(gamma_v) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(alpha) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(beta) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(gamma_v))</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 52</span><span style=\"color: #002339;\">                                </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> L </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(gamma_v) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> N </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(gamma_v) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> m </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> g </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta_v)) </span><span style=\"color: #7B30D0;\">/</span><span style=\"color: #002339;\"> (m </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> g);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 53</span><span style=\"color: #002339;\">        wz </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">ang_vel</span><span style=\"color: #002339;\">[</span><span style=\"color: #174781;\">2</span><span style=\"color: #002339;\">];</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 54</span><span style=\"color: #002339;\">    }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 55</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 56</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">virtual</span><span style=\"color: #002339;\"> </span><span style=\"color: #0991B6;\">void</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">reset</span><span style=\"color: #002339;\">() </span><span style=\"color: #0991B6;\">override</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 57</span><span style=\"color: #002339;\">    {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 58</span><span style=\"color: #002339;\">        </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">WingedCone2D_Classic</span><span style=\"color: #002339;\">(initial_state);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 59</span><span style=\"color: #002339;\">    }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 60</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 61</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">V_controller</span><span style=\"color: #002339;\">(</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">Vc</span><span style=\"color: #002339;\">, </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">V</span><span style=\"color: #002339;\">, </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">dt</span><span style=\"color: #002339;\">)</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 62</span><span style=\"color: #002339;\">    {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 63</span><span style=\"color: #357B42;\">        // 速度跟踪误差</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 64</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> eV </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> Vc </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> V;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 65</span><span style=\"color: #002339;\">        i_V </span><span style=\"color: #7B30D0;\">+=</span><span style=\"color: #002339;\"> eV </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 66</span><span style=\"color: #002339;\">        d_eV </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> (eV </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> eV_prev) </span><span style=\"color: #7B30D0;\">/</span><span style=\"color: #002339;\"> dt;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 67</span><span style=\"color: #002339;\">        eV_prev </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> eV;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 68</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 69</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> u1a </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> Kp_V </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> eV </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> Ki_V </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> i_V </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> Kd_V </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> d_eV;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 70</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">if</span><span style=\"color: #002339;\"> (u1a </span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">) </span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 71</span><span style=\"color: #002339;\">        {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 72</span><span style=\"color: #002339;\">            u1a </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 73</span><span style=\"color: #002339;\">        }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 74</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 75</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">return</span><span style=\"color: #002339;\"> u1a;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 76</span><span style=\"color: #002339;\">    }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 77</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 78</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">Ny_controller</span><span style=\"color: #002339;\">(</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">Nyc</span><span style=\"color: #002339;\">, </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">Ny</span><span style=\"color: #002339;\">, </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">wz</span><span style=\"color: #002339;\">, </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">dt</span><span style=\"color: #002339;\">)</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 79</span><span style=\"color: #002339;\">    {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 80</span><span style=\"color: #357B42;\">        // 过载跟踪误差</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 81</span><span style=\"color: #002339;\">        eNy </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> Nyc </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> Ny;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 82</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 83</span><span style=\"color: #357B42;\">        // PI校正环节</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 84</span><span style=\"color: #002339;\">        i_eNy </span><span style=\"color: #7B30D0;\">+=</span><span style=\"color: #002339;\"> eNy </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 85</span><span style=\"color: #002339;\">        p_eNy </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> eNy;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 86</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 87</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> pi_eNy </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> Kiz </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> i_eNy </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> Kpz </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> p_eNy;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 88</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 89</span><span style=\"color: #357B42;\">        // 增稳回路</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 90</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> eSAC </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> pi_eNy </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> Kaz </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> wz;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 91</span><span style=\"color: #002339;\">        i_eSAC </span><span style=\"color: #7B30D0;\">+=</span><span style=\"color: #002339;\"> eSAC </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 92</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 93</span><span style=\"color: #357B42;\">        // 阻尼回路</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 94</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> eDamp </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> i_eSAC </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> Kwz </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> wz;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 95</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 96</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">return</span><span style=\"color: #002339;\"> eDamp;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 97</span><span style=\"color: #002339;\">    }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 98</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 99</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">virtual</span><span style=\"color: #002339;\"> py::</span><span style=\"color: #0444AC;\">dict</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">to_dict</span><span style=\"color: #002339;\">() </span><span style=\"color: #0991B6;\">override</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">100</span><span style=\"color: #002339;\">    {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">101</span><span style=\"color: #002339;\">        py::dict output_dict </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> WingedCone2D::</span><span style=\"color: #B1108E;\">to_dict</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">102</span><span style=\"color: #002339;\">        </span><span style=\"color: #2F86D2;\">output_dict</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Ny</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">] </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> Ny;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">103</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">return</span><span style=\"color: #002339;\"> output_dict;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">104</span><span style=\"color: #002339;\">    }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">105</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">106</span><span style=\"color: #002339;\">    </span><span style=\"color: #0991B6;\">virtual</span><span style=\"color: #002339;\"> py::</span><span style=\"color: #0444AC;\">object</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">step</span><span style=\"color: #002339;\">(py::</span><span style=\"color: #0444AC;\">dict</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">action</span><span style=\"color: #002339;\">) </span><span style=\"color: #0991B6;\">override</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">107</span><span style=\"color: #002339;\">    {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">108</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> dt </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">action</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">dt</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">109</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">110</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> Nyc </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">action</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Nyc</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">111</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> Vc </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">action</span><span style=\"color: #002339;\">[</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">Vc</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">].</span><span style=\"color: #7FDBCA;\">cast</span><span style=\"color: #7B30D0;\">&lt;</span><span style=\"color: #0991B6;\">double</span><span style=\"color: #7B30D0;\">&gt;</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">112</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">113</span><span style=\"color: #002339;\">        delta_e </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">Ny_controller</span><span style=\"color: #002339;\">(Nyc, Ny, wz, dt</span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #174781;\">0.1</span><span style=\"color: #002339;\">);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">114</span><span style=\"color: #002339;\">        delta_e </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> std::</span><span style=\"color: #B1108E;\">clamp</span><span style=\"color: #002339;\">(delta_e, </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #174781;\">25</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">/</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">57.3</span><span style=\"color: #002339;\">, </span><span style=\"color: #174781;\">25</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">/</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">57.3</span><span style=\"color: #002339;\">);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">115</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">116</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">double</span><span style=\"color: #002339;\"> Phi </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">V_controller</span><span style=\"color: #002339;\">(Vc, V, dt</span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #174781;\">0.1</span><span style=\"color: #002339;\">);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">117</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">118</span><span style=\"color: #357B42;\">        // 计算气动力</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">119</span><span style=\"color: #002339;\">        </span><span style=\"color: #B1108E;\">_D</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">120</span><span style=\"color: #002339;\">        </span><span style=\"color: #B1108E;\">_L</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">121</span><span style=\"color: #002339;\">        </span><span style=\"color: #B1108E;\">_T</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">122</span><span style=\"color: #002339;\">        </span><span style=\"color: #B1108E;\">_M</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">123</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">124</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">if</span><span style=\"color: #002339;\"> (integrator </span><span style=\"color: #7B30D0;\">==</span><span style=\"color: #002339;\"> </span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">euler</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">)</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">125</span><span style=\"color: #002339;\">        {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">126</span><span style=\"color: #002339;\">            </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> </span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\">-&gt;</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">() </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">127</span><span style=\"color: #002339;\">        }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">128</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">else</span><span style=\"color: #002339;\"> </span><span style=\"color: #0991B6;\">if</span><span style=\"color: #002339;\"> (integrator </span><span style=\"color: #7B30D0;\">==</span><span style=\"color: #002339;\"> </span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">midpoint</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">)</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">129</span><span style=\"color: #002339;\">        {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">130</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> temp1 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> </span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\">-&gt;</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">() </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (</span><span style=\"color: #174781;\">0.5</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">131</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> k1 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">temp1</span><span style=\"color: #002339;\">.</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">132</span><span style=\"color: #002339;\">            </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k1 </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">133</span><span style=\"color: #002339;\">        }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">134</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">else</span><span style=\"color: #002339;\"> </span><span style=\"color: #0991B6;\">if</span><span style=\"color: #002339;\"> (integrator </span><span style=\"color: #7B30D0;\">==</span><span style=\"color: #002339;\"> </span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">rk23</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">)</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">135</span><span style=\"color: #002339;\">        {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">136</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> k1 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\">-&gt;</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">137</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> temp1 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k1 </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (</span><span style=\"color: #174781;\">0.5</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">138</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> k2 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">temp1</span><span style=\"color: #002339;\">.</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">139</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> temp2 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k2 </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (</span><span style=\"color: #174781;\">0.5</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">140</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> k3 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">temp2</span><span style=\"color: #002339;\">.</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">141</span><span style=\"color: #002339;\">            </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> (k1 </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k2 </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">2</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k3) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (dt </span><span style=\"color: #7B30D0;\">/</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">4</span><span style=\"color: #002339;\">);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">142</span><span style=\"color: #002339;\">        }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">143</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">else</span><span style=\"color: #002339;\"> </span><span style=\"color: #0991B6;\">if</span><span style=\"color: #002339;\"> (integrator </span><span style=\"color: #7B30D0;\">==</span><span style=\"color: #002339;\"> </span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #A44185;\">rk45</span><span style=\"color: #D86DB6;\">&quot;</span><span style=\"color: #002339;\">)</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">144</span><span style=\"color: #002339;\">        {</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">145</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> k1 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\">-&gt;</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">146</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> temp1 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k1 </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (</span><span style=\"color: #174781;\">0.5</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">147</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> k2 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">temp1</span><span style=\"color: #002339;\">.</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">148</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> temp2 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k2 </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (</span><span style=\"color: #174781;\">0.5</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">149</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> k3 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">temp2</span><span style=\"color: #002339;\">.</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">150</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> temp3 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k3 </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> dt;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">151</span><span style=\"color: #002339;\">            </span><span style=\"color: #0991B6;\">auto</span><span style=\"color: #002339;\"> k4 </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">temp3</span><span style=\"color: #002339;\">.</span><span style=\"color: #B1108E;\">d</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">152</span><span style=\"color: #002339;\">            </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #0991B6;\">this</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> (k1 </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k2 </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">2</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k3 </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">2</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> k4) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (dt </span><span style=\"color: #7B30D0;\">/</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">6</span><span style=\"color: #002339;\">);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">153</span><span style=\"color: #002339;\">        }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">154</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">155</span><span style=\"color: #002339;\">        beta </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta_v) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (</span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(gamma) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(phi </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> phi_v) </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(theta) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(gamma) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(phi </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> phi_v)) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(theta_v) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(gamma);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">156</span><span style=\"color: #002339;\">        alpha </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> (</span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta_v) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (</span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(theta) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(gamma) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(phi </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> phi_v) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(gamma) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(phi </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> phi_v)) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(theta_v) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(gamma)) </span><span style=\"color: #7B30D0;\">/</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(beta);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">157</span><span style=\"color: #002339;\">        gamma_v </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> (</span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(alpha) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(beta) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(theta) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(alpha) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(beta) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(gamma) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta) </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(beta) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(gamma) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta)) </span><span style=\"color: #7B30D0;\">/</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta_v);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">158</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">159</span><span style=\"color: #002339;\">        </span><span style=\"color: #2F86D2;\">vel</span><span style=\"color: #002339;\">[</span><span style=\"color: #174781;\">0</span><span style=\"color: #002339;\">] </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> V </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta_v) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(phi_v);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">160</span><span style=\"color: #002339;\">        </span><span style=\"color: #2F86D2;\">vel</span><span style=\"color: #002339;\">[</span><span style=\"color: #174781;\">1</span><span style=\"color: #002339;\">] </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> V </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(theta_v);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">161</span><span style=\"color: #002339;\">        </span><span style=\"color: #2F86D2;\">vel</span><span style=\"color: #002339;\">[</span><span style=\"color: #174781;\">2</span><span style=\"color: #002339;\">] </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\">V </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta_v) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(phi_v);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">162</span><span style=\"color: #002339;\">        h </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">pos</span><span style=\"color: #002339;\">[</span><span style=\"color: #174781;\">1</span><span style=\"color: #002339;\">];</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">163</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">164</span><span style=\"color: #002339;\">        Tem </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">Temperature</span><span style=\"color: #002339;\">(h);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">165</span><span style=\"color: #002339;\">        Pres </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">Pressure</span><span style=\"color: #002339;\">(h);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">166</span><span style=\"color: #002339;\">        Rho </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">Density</span><span style=\"color: #002339;\">(Tem, Pres);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">167</span><span style=\"color: #002339;\">        a </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">SpeedofSound</span><span style=\"color: #002339;\">(Tem);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">168</span><span style=\"color: #002339;\">        g </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">Gravity</span><span style=\"color: #002339;\">(h);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">169</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">170</span><span style=\"color: #002339;\">        q </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #174781;\">0.5</span><span style=\"color: #002339;\"> </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> Rho </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> V </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> V;</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">171</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">172</span><span style=\"color: #002339;\">        Ny </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> (T </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> (</span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(alpha) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(gamma_v) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(alpha) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(beta) </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(gamma_v))</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">173</span><span style=\"color: #002339;\">                                </span><span style=\"color: #7B30D0;\">+</span><span style=\"color: #002339;\"> L </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(gamma_v) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> N </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">sin</span><span style=\"color: #002339;\">(gamma_v) </span><span style=\"color: #7B30D0;\">-</span><span style=\"color: #002339;\"> m </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> g </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">cos</span><span style=\"color: #002339;\">(theta_v)) </span><span style=\"color: #7B30D0;\">/</span><span style=\"color: #002339;\"> (m </span><span style=\"color: #7B30D0;\">*</span><span style=\"color: #002339;\"> g);</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">174</span><span style=\"color: #002339;\">        wz </span><span style=\"color: #7B30D0;\">=</span><span style=\"color: #002339;\"> </span><span style=\"color: #2F86D2;\">ang_vel</span><span style=\"color: #002339;\">[</span><span style=\"color: #174781;\">2</span><span style=\"color: #002339;\">];</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">175</span>&nbsp;</div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">176</span><span style=\"color: #002339;\">        </span><span style=\"color: #0991B6;\">return</span><span style=\"color: #002339;\"> </span><span style=\"color: #B1108E;\">to_dict</span><span style=\"color: #002339;\">();</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">177</span><span style=\"color: #002339;\">    }</span></div><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">178</span><span style=\"color: #002339;\">};</span></div>","classes":"torchlight","styles":"background-color: #FFFFFF; --theme-selection-background: #4373c2;"}}
