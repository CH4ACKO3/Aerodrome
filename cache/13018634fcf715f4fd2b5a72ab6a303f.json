{"expires":1743603345.415,"value":{"highlighted":"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style=\"color: #676E95;\">// 强化学习控制</span></div><div class='line'><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> </span><span style=\"color: #82AAFF;\">Ny_controller</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> nn_control</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #A6ACCD;\"> </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> wz</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #A6ACCD;\"> </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> dt</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color: #676E95;\">    // 增稳回路，使用神经网络输出代替PI环节</span></div><div class='line'><span style=\"color: #A6ACCD;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> eSAC </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #A6ACCD;\"> nn_control </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #A6ACCD;\"> Kaz </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #A6ACCD;\"> wz</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color: #A6ACCD;\">    i_eSAC </span><span style=\"color: #89DDFF;\">+=</span><span style=\"color: #A6ACCD;\"> eSAC </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #A6ACCD;\"> dt</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #676E95;\">    // 阻尼回路</span></div><div class='line'><span style=\"color: #A6ACCD;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> eDamp </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #A6ACCD;\"> i_eSAC </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #A6ACCD;\"> Kwz </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #A6ACCD;\"> wz</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #A6ACCD;\">    </span><span style=\"color: #89DDFF;\">return</span><span style=\"color: #A6ACCD;\"> eDamp</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color: #89DDFF;\">}</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #676E95;\">// 传统控制</span></div><div class='line'><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> </span><span style=\"color: #82AAFF;\">Ny_controller</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> Nyc</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #A6ACCD;\"> </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> Ny</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #A6ACCD;\"> </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> wz</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #A6ACCD;\"> </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> dt</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color: #676E95;\">    // 过载跟踪误差</span></div><div class='line'><span style=\"color: #A6ACCD;\">    eNy </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #A6ACCD;\"> Nyc </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #A6ACCD;\"> Ny</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #676E95;\">    // PI校正环节</span></div><div class='line'><span style=\"color: #A6ACCD;\">    i_eNy </span><span style=\"color: #89DDFF;\">+=</span><span style=\"color: #A6ACCD;\"> eNy </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #A6ACCD;\"> dt</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color: #A6ACCD;\">    p_eNy </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #A6ACCD;\"> eNy</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #A6ACCD;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> pi_eNy </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #A6ACCD;\"> Kiz </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #A6ACCD;\"> i_eNy </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #A6ACCD;\"> Kpz </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #A6ACCD;\"> p_eNy</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #676E95;\">    // 增稳回路</span></div><div class='line'><span style=\"color: #A6ACCD;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> eSAC </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #A6ACCD;\"> pi_eNy </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #A6ACCD;\"> Kaz </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #A6ACCD;\"> wz</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color: #A6ACCD;\">    i_eSAC </span><span style=\"color: #89DDFF;\">+=</span><span style=\"color: #A6ACCD;\"> eSAC </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #A6ACCD;\"> dt</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #676E95;\">    // 阻尼回路</span></div><div class='line'><span style=\"color: #A6ACCD;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #A6ACCD;\"> eDamp </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #A6ACCD;\"> i_eSAC </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #A6ACCD;\"> Kwz </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #A6ACCD;\"> wz</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #A6ACCD;\">    </span><span style=\"color: #89DDFF;\">return</span><span style=\"color: #A6ACCD;\"> eDamp</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color: #89DDFF;\">}</span></div>","classes":"torchlight","styles":"background-color: #292D3E; --theme-selection-background: #00000080;"}}
