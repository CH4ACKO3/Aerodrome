{"expires":1743604763.238,"value":{"highlighted":"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 1</span><span style=\"color: #6A737D;\">// 强化学习控制</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 2</span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">Ny_controller</span><span style=\"color: #24292E;\">(</span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> </span><span style=\"color: #E36209;\">nn_control</span><span style=\"color: #24292E;\">, </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> </span><span style=\"color: #E36209;\">wz</span><span style=\"color: #24292E;\">, </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> </span><span style=\"color: #E36209;\">dt</span><span style=\"color: #24292E;\">)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 3</span><span style=\"color: #24292E;\">{</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 4</span><span style=\"color: #6A737D;\">    // 增稳回路，使用神经网络输出代替PI环节</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 5</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> eSAC </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> nn_control </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> Kaz </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> wz;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 6</span><span style=\"color: #24292E;\">    i_eSAC </span><span style=\"color: #D73A49;\">+=</span><span style=\"color: #24292E;\"> eSAC </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> dt;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 7</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 8</span><span style=\"color: #6A737D;\">    // 阻尼回路</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 9</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> eDamp </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> i_eSAC </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> Kwz </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> wz;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">10</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">11</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">return</span><span style=\"color: #24292E;\"> eDamp;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">12</span><span style=\"color: #24292E;\">}</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">13</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">14</span><span style=\"color: #6A737D;\">// 传统控制</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">15</span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">Ny_controller</span><span style=\"color: #24292E;\">(</span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> </span><span style=\"color: #E36209;\">Nyc</span><span style=\"color: #24292E;\">, </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> </span><span style=\"color: #E36209;\">Ny</span><span style=\"color: #24292E;\">, </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> </span><span style=\"color: #E36209;\">wz</span><span style=\"color: #24292E;\">, </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> </span><span style=\"color: #E36209;\">dt</span><span style=\"color: #24292E;\">)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">16</span><span style=\"color: #24292E;\">{</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">17</span><span style=\"color: #6A737D;\">    // 过载跟踪误差</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">18</span><span style=\"color: #24292E;\">    eNy </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> Nyc </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> Ny;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">19</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">20</span><span style=\"color: #6A737D;\">    // PI校正环节</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">21</span><span style=\"color: #24292E;\">    i_eNy </span><span style=\"color: #D73A49;\">+=</span><span style=\"color: #24292E;\"> eNy </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> dt;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">22</span><span style=\"color: #24292E;\">    p_eNy </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> eNy;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">23</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">24</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> pi_eNy </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> Kiz </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> i_eNy </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> Kpz </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> p_eNy;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">25</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">26</span><span style=\"color: #6A737D;\">    // 增稳回路</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">27</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> eSAC </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> pi_eNy </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> Kaz </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> wz;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">28</span><span style=\"color: #24292E;\">    i_eSAC </span><span style=\"color: #D73A49;\">+=</span><span style=\"color: #24292E;\"> eSAC </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> dt;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">29</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">30</span><span style=\"color: #6A737D;\">    // 阻尼回路</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">31</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> eDamp </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> i_eSAC </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> Kwz </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> wz;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">32</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">33</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">return</span><span style=\"color: #24292E;\"> eDamp;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">34</span><span style=\"color: #24292E;\">}</span></div>","classes":"torchlight","styles":"background-color: #fff; --theme-selection-background: #e2e5e9;"}}
