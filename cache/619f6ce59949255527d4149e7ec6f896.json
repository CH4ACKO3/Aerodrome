{"expires":1743603899.325,"value":{"highlighted":"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  1</span><span style=\"color: #C792EA;\">class</span><span style=\"color: #F07178;\"> </span><span style=\"color: #FFCB6B;\">CartPoleEnv</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">:</span><span style=\"color: #F07178;\"> </span><span style=\"color: #C792EA;\">public</span><span style=\"color: #F07178;\"> </span><span style=\"color: #FFCB6B;\">BaseEnv</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  2</span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  3</span><span style=\"color: #C792EA;\">private</span><span style=\"color: #89DDFF;\">:</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  4</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> gravity </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">9.81</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  5</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> masscart </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">1.0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  6</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> masspole </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0.1</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  7</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> total_mass </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> masspole </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> masscart</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  8</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> length </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0.5</span><span style=\"color: #89DDFF;\">;</span><span style=\"color: #676E95;\"> // half the pole&#39;s length</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  9</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> polemass_length </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> masspole </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> length</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 10</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> force_mag </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">10.0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 11</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> tau </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0.02</span><span style=\"color: #89DDFF;\">;</span><span style=\"color: #676E95;\"> // seconds between state updates</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 12</span><span style=\"color: #F07178;\">    </span><span style=\"color: #FFCB6B;\">std</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #F07178;\">string kinematic_integrator </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">euler</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 13</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 14</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> theta_threshold_radians </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">12</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">2</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">3.1415926</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">/</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">360</span><span style=\"color: #89DDFF;\">;</span><span style=\"color: #676E95;\"> // angle at which to fail the episode</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 15</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> x_threshold </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">2.4</span><span style=\"color: #89DDFF;\">;</span><span style=\"color: #676E95;\"> // distance at which to fail the episode</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 16</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 17</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> x </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 18</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> theta </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 19</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> x_dot </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 20</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> theta_dot </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 21</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 22</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">int</span><span style=\"color: #F07178;\"> time_step </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 23</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">int</span><span style=\"color: #F07178;\"> max_steps </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">200</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 24</span><span style=\"color: #F07178;\">    </span><span style=\"color: #C792EA;\">bool</span><span style=\"color: #F07178;\"> steps_beyond_done </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">false;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 25</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 26</span><span style=\"color: #C792EA;\">public</span><span style=\"color: #89DDFF;\">:</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 27</span><span style=\"color: #F07178;\">    </span><span style=\"color: #82AAFF;\">CartPoleEnv</span><span style=\"color: #89DDFF;\">()</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">{}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 28</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 29</span><span style=\"color: #F07178;\">    </span><span style=\"color: #82AAFF;\">~CartPoleEnv</span><span style=\"color: #89DDFF;\">()</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">{}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 30</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 31</span><span style=\"color: #F07178;\">    </span><span style=\"color: #FFCB6B;\">py</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #FFCB6B;\">object</span><span style=\"color: #F07178;\"> </span><span style=\"color: #82AAFF;\">reset</span><span style=\"color: #89DDFF;\">()</span><span style=\"color: #F07178;\"> </span><span style=\"color: #C792EA;\">override</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 32</span><span style=\"color: #F07178;\">    </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 33</span><span style=\"color: #F07178;\">        </span><span style=\"color: #FFCB6B;\">py</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #F07178;\">dict result</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 34</span><span style=\"color: #F07178;\">        </span><span style=\"color: #FFCB6B;\">std</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #F07178;\">random_device rd</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 35</span><span style=\"color: #F07178;\">        </span><span style=\"color: #FFCB6B;\">std</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #F07178;\">mt19937 </span><span style=\"color: #82AAFF;\">gen</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #82AAFF;\">rd</span><span style=\"color: #89DDFF;\">());</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 36</span><span style=\"color: #F07178;\">        </span><span style=\"color: #FFCB6B;\">std</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #F07178;\">uniform_real_distribution</span><span style=\"color: #89DDFF;\">&lt;&gt;</span><span style=\"color: #F07178;\"> </span><span style=\"color: #82AAFF;\">dis</span><span style=\"color: #89DDFF;\">(-</span><span style=\"color: #F78C6C;\">0.05</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0.05</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 37</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 38</span><span style=\"color: #F07178;\">        x </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #82AAFF;\">dis</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">gen</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 39</span><span style=\"color: #F07178;\">        x_dot </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #82AAFF;\">dis</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">gen</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 40</span><span style=\"color: #F07178;\">        theta </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #82AAFF;\">dis</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">gen</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 41</span><span style=\"color: #F07178;\">        theta_dot </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #82AAFF;\">dis</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">gen</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 42</span><span style=\"color: #F07178;\">        time_step </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 43</span><span style=\"color: #F07178;\">        steps_beyond_done </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">false;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 44</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 45</span><span style=\"color: #F07178;\">        </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">observation</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #FFCB6B;\">py</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #82AAFF;\">make_tuple</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">x</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #F07178;\"> x_dot</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #F07178;\"> theta</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #F07178;\"> theta_dot</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 46</span><span style=\"color: #F07178;\">        </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">info</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&quot;&quot;</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 47</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">return</span><span style=\"color: #F07178;\"> result</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 48</span><span style=\"color: #F07178;\">    </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 49</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 50</span><span style=\"color: #F07178;\">    </span><span style=\"color: #FFCB6B;\">py</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #FFCB6B;\">object</span><span style=\"color: #F07178;\"> </span><span style=\"color: #82AAFF;\">step</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #C792EA;\">const</span><span style=\"color: #F07178;\"> </span><span style=\"color: #FFCB6B;\">py</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #FFCB6B;\">object</span><span style=\"color: #C792EA;\">&amp;</span><span style=\"color: #F07178;\"> </span><span style=\"color: #A6ACCD;\">input_dict</span><span style=\"color: #89DDFF;\">)</span><span style=\"color: #F07178;\"> </span><span style=\"color: #C792EA;\">override</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 51</span><span style=\"color: #F07178;\">    </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 52</span><span style=\"color: #F07178;\">        </span><span style=\"color: #FFCB6B;\">py</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #F07178;\">dict result</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 53</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">if</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(!</span><span style=\"color: #A6ACCD;\">input_dict</span><span style=\"color: #89DDFF;\">.</span><span style=\"color: #82AAFF;\">contains</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">action</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">))</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 54</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 55</span><span style=\"color: #F07178;\">            </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">info</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">input_dict does not contain &#39;action&#39;</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 56</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">return</span><span style=\"color: #F07178;\"> result</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 57</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 58</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 59</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">int</span><span style=\"color: #F07178;\"> action</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 60</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">try</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 61</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 62</span><span style=\"color: #F07178;\">            action </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #A6ACCD;\">input_dict</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">action</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">].</span><span style=\"color: #A6ACCD;\">cast</span><span style=\"color: #89DDFF;\">&lt;</span><span style=\"color: #C792EA;\">int</span><span style=\"color: #89DDFF;\">&gt;();</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 63</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 64</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">catch</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #C792EA;\">const</span><span style=\"color: #F07178;\"> </span><span style=\"color: #FFCB6B;\">std</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #F07178;\">exception </span><span style=\"color: #89DDFF;\">&amp;</span><span style=\"color: #F07178;\">e</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 65</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 66</span><span style=\"color: #F07178;\">            </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">info</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #FFCB6B;\">std</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #82AAFF;\">string</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">failed to convert action to int: </span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">)</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> </span><span style=\"color: #A6ACCD;\">e</span><span style=\"color: #89DDFF;\">.</span><span style=\"color: #82AAFF;\">what</span><span style=\"color: #89DDFF;\">();</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 67</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">return</span><span style=\"color: #F07178;\"> result</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 68</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 69</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 70</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">if</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">action </span><span style=\"color: #89DDFF;\">!=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&amp;&amp;</span><span style=\"color: #F07178;\"> action </span><span style=\"color: #89DDFF;\">!=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">1</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 71</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 72</span><span style=\"color: #F07178;\">            </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">info</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">action must be either 0 or 1</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 73</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">return</span><span style=\"color: #F07178;\"> result</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 74</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 75</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 76</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> force </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> action </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> force_mag</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 77</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> costheta </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #82AAFF;\">cos</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">theta</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 78</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> sintheta </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #82AAFF;\">sin</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">theta</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 79</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 80</span><span style=\"color: #676E95;\">        // For the interested reader:</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 81</span><span style=\"color: #676E95;\">        // https://coneural.org/florian/papers/05_cart_pole.pdf</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 82</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> temp </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">force </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> polemass_length </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> theta_dot </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> theta_dot </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> sintheta</span><span style=\"color: #89DDFF;\">)</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">/</span><span style=\"color: #F07178;\"> total_mass</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 83</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> theta_acc </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">gravity </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> sintheta </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #F07178;\"> costheta </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> temp</span><span style=\"color: #89DDFF;\">)</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">/</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">length </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F78C6C;\">4.0</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">/</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">3.0</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #F07178;\"> masspole </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> costheta </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> costheta </span><span style=\"color: #89DDFF;\">/</span><span style=\"color: #F07178;\"> total_mass</span><span style=\"color: #89DDFF;\">));</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 84</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> x_acc </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> temp </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #F07178;\"> polemass_length </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> theta_acc </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> costheta </span><span style=\"color: #89DDFF;\">/</span><span style=\"color: #F07178;\"> total_mass</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 85</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 86</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">if</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">kinematic_integrator </span><span style=\"color: #89DDFF;\">==</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">euler</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 87</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 88</span><span style=\"color: #F07178;\">            x </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> x </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> tau </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> x_dot</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 89</span><span style=\"color: #F07178;\">            x_dot </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> x_dot </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> tau </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> x_acc</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 90</span><span style=\"color: #F07178;\">            theta </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> theta </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> tau </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> theta_dot</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 91</span><span style=\"color: #F07178;\">            theta_dot </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> theta_dot </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> tau </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> theta_acc</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 92</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 93</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">else</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">if</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">kinematic_integrator </span><span style=\"color: #89DDFF;\">==</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">semi-implicit-euler</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 94</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 95</span><span style=\"color: #F07178;\">            x_dot </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> x_dot </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> tau </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> x_acc</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 96</span><span style=\"color: #F07178;\">            x </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> x </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> tau </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> x_dot</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 97</span><span style=\"color: #F07178;\">            theta_dot </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> theta_dot </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> tau </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> theta_acc</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 98</span><span style=\"color: #F07178;\">            theta </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> theta </span><span style=\"color: #89DDFF;\">+</span><span style=\"color: #F07178;\"> tau </span><span style=\"color: #89DDFF;\">*</span><span style=\"color: #F07178;\"> theta_dot</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 99</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">100</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">else</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">101</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">102</span><span style=\"color: #F07178;\">            </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">info</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">unknown kinematic integrator</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">103</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">return</span><span style=\"color: #F07178;\"> result</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">104</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">105</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">106</span><span style=\"color: #F07178;\">        time_step </span><span style=\"color: #89DDFF;\">++;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">107</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">bool</span><span style=\"color: #F07178;\"> terminated </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">((</span><span style=\"color: #F07178;\">x </span><span style=\"color: #89DDFF;\">&lt;</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #F07178;\">x_threshold</span><span style=\"color: #89DDFF;\">)</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">||</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">x </span><span style=\"color: #89DDFF;\">&gt;</span><span style=\"color: #F07178;\"> x_threshold</span><span style=\"color: #89DDFF;\">)</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">||</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">theta </span><span style=\"color: #89DDFF;\">&lt;</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">-</span><span style=\"color: #F07178;\">theta_threshold_radians</span><span style=\"color: #89DDFF;\">)</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">||</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">theta </span><span style=\"color: #89DDFF;\">&gt;</span><span style=\"color: #F07178;\"> theta_threshold_radians</span><span style=\"color: #89DDFF;\">));</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">108</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">bool</span><span style=\"color: #F07178;\"> truncated </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">time_step </span><span style=\"color: #89DDFF;\">&gt;=</span><span style=\"color: #F07178;\"> max_steps</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">109</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">110</span><span style=\"color: #F07178;\">        </span><span style=\"color: #C792EA;\">double</span><span style=\"color: #F07178;\"> reward</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">111</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">if</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(!</span><span style=\"color: #F07178;\">terminated </span><span style=\"color: #89DDFF;\">&amp;&amp;</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">!</span><span style=\"color: #F07178;\">truncated</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">112</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">113</span><span style=\"color: #F07178;\">            reward </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">1.0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">114</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">115</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">else</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">if</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(!</span><span style=\"color: #F07178;\">steps_beyond_done</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">116</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">117</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">if</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">terminated</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">118</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">119</span><span style=\"color: #F07178;\">                reward </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0.0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">120</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">121</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">else</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">if</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">truncated</span><span style=\"color: #89DDFF;\">)</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">122</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">123</span><span style=\"color: #F07178;\">                reward </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">1.0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">124</span><span style=\"color: #F07178;\">            </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">125</span><span style=\"color: #F07178;\">            steps_beyond_done </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">true;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">126</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">127</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">else</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">128</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">129</span><span style=\"color: #F07178;\">            reward </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #F78C6C;\">0.0</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">130</span><span style=\"color: #F07178;\">            </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">info</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">You are calling &#39;step()&#39; even though this environment has already returned terminated = True. </span><span style=\"color: #89DDFF;\">&quot;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">131</span><span style=\"color: #F07178;\">                              </span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">You should always call &#39;reset()&#39; once you receive &#39;terminated = True&#39; -- any further steps are undefined behavior.</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">132</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">133</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">134</span><span style=\"color: #F07178;\">        </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">observation</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #FFCB6B;\">py</span><span style=\"color: #89DDFF;\">::</span><span style=\"color: #82AAFF;\">make_tuple</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #F07178;\">x</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #F07178;\"> x_dot</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #F07178;\"> theta</span><span style=\"color: #89DDFF;\">,</span><span style=\"color: #F07178;\"> theta_dot</span><span style=\"color: #89DDFF;\">);</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">135</span><span style=\"color: #F07178;\">        </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">reward</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> reward</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">136</span><span style=\"color: #F07178;\">        </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">terminated</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> terminated</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">137</span><span style=\"color: #F07178;\">        </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">truncated</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> truncated</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">138</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">139</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">if</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">(!</span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">.</span><span style=\"color: #82AAFF;\">contains</span><span style=\"color: #89DDFF;\">(</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">info</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">))</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">140</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">{</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">141</span><span style=\"color: #F07178;\">            </span><span style=\"color: #A6ACCD;\">result</span><span style=\"color: #89DDFF;\">[</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #C3E88D;\">info</span><span style=\"color: #89DDFF;\">&quot;</span><span style=\"color: #89DDFF;\">]</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">=</span><span style=\"color: #F07178;\"> </span><span style=\"color: #89DDFF;\">&quot;&quot;</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">142</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">143</span>&nbsp;</div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">144</span><span style=\"color: #F07178;\">        </span><span style=\"color: #89DDFF;\">return</span><span style=\"color: #F07178;\"> result</span><span style=\"color: #89DDFF;\">;</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">145</span><span style=\"color: #F07178;\">    </span><span style=\"color: #89DDFF;\">}</span></div><div class='line'><span style=\"color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">146</span><span style=\"color: #89DDFF;\">};</span></div>","classes":"torchlight","styles":"background-color: #292D3E; --theme-selection-background: #00000080;"}}
