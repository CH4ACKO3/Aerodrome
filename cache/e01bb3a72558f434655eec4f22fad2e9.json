{"expires":1743605056.893,"value":{"highlighted":"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">1</span><span style=\"color: #002339;\"># \\u76f4\\u63a5\\u4ece\\u7f16\\u8bd1\\u597d\\u7684 C++ \\u6a21\\u5757\\u4e2d\\u53d6\\u51fa WingedCone2D_Classic \\u548c Space3D \\u7c7b\\u4f7f\\u7528\\uff0c\\u4e0d\\u7ecf\\u8fc7 Python\\nfrom aerodrome.simulator.CanonicalAircraftEnv.objects.WingedCone2D_Classic import WingedCone2D_Classic\\nfrom aerodrome.simulator.Core.envs.Space3D import Space3D\\nfrom math import *\\n\\nif __name__ == \\&quot;__main__\\&quot;:\\n    dt = 0.001 # \\u5b9a\\u4e49\\u6b65\\u8fdb\\u6b65\\u957f\\uff0c\\u8fd9\\u91cc\\u8bbe\\u7f6e\\u4e3a\\u56fa\\u5b9a\\u503c 0.001\\n    # \\u5b9e\\u4f8b\\u5316 Space3D \\u7c7b\\uff0c\\u7b2c\\u4e8c\\u4e2a\\u5b9e\\u53c2\\u8868\\u793a\\u6b65\\u8fdb\\u6b65\\u957f\\uff0c\\u7b2c\\u4e09\\u4e2a\\u5b9e\\u53c2\\u8868\\u793a\\u6bcf\\u6b21\\u6b65\\u8fdb\\u5206\\u6210\\u7684\\u79ef\\u5206\\u6b21\\u6570\\n    env = Space3D(dt, 0.001, 1) \\n\\n    # \\u5b9a\\u4e49\\u4eff\\u771f\\u5bf9\\u8c61\\u7684\\u53c2\\u6570\\u5b57\\u5178\\uff0c\\u7528\\u4e8e\\u751f\\u6210\\u5bf9\\u8c61\\n    object_dict = {\\n        \\&quot;name\\&quot;: \\&quot;test\\&quot;,\\n        \\&quot;integrator\\&quot;: \\&quot;rk45\\&quot;,\\n        \\&quot;S\\&quot;: 3603.0,\\n        \\&quot;c\\&quot;: 80.0,\\n        \\&quot;m\\&quot;: 9375.0,\\n\\n        \\&quot;pos\\&quot;: [0.0, 33528.0, 0.0],\\n        \\&quot;vel\\&quot;: [4590.29, 0.0, 0.0],\\n        \\&quot;ang_vel\\&quot;: [0.0, 0.0, 0.0],\\n        \\&quot;J\\&quot;: [1.0, 7*10**6, 7*10**6],\\n        \\&quot;theta\\&quot;: 0.00/180*pi,\\n        \\&quot;phi\\&quot;: 0.0,\\n        \\&quot;gamma\\&quot;: 0.0,   \\n        \\&quot;theta_v\\&quot;: 0.0,\\n        \\&quot;phi_v\\&quot;: 0.0,\\n        \\&quot;gamma_v\\&quot;: 0.0,\\n        \\&quot;alpha\\&quot;: 0.00/180*pi,\\n        \\&quot;beta\\&quot;: 0.0,\\n\\n        \\&quot;Kiz\\&quot;: 0.2597,\\n        \\&quot;Kwz\\&quot;: 1.6,\\n        \\&quot;Kaz\\&quot;: 13/2,\\n        \\&quot;Kpz\\&quot;: 0.14,\\n        \\&quot;Kp_V\\&quot;: 5.0,\\n        \\&quot;Ki_V\\&quot;: 1.0,\\n        \\&quot;Kd_V\\&quot;: 0.3\\n    }\\n\\n    object = WingedCone2D_Classic(object_dict) # \\u4ece\\u5b57\\u5178\\u751f\\u6210\\u5bf9\\u8c61\\n    env.add_object(object) # \\u5c06\\u5bf9\\u8c61\\u6dfb\\u52a0\\u5230\\u73af\\u5883\\u4e2d\\n\\n    # \\u7528\\u4e8e\\u4fdd\\u5b58\\u6570\\u636e\\u7684\\u6570\\u7ec4\\n    import numpy as np\\n\\n    cnt = 10000\\n    x = np.arange(cnt) * dt\\n    y = np.zeros(cnt)\\n\\n    Nyc = 0.0 # \\u8fc7\\u8f7d\\u6307\\u4ee4\\n    Vc = 3000 # \\u901f\\u5ea6\\u6307\\u4ee4\\n\\n    for i in range(cnt):\\n        action = {\\&quot;test\\&quot;: {\\&quot;Nyc\\&quot;:Nyc, \\&quot;Vc\\&quot;:Vc}} # \\u5b9a\\u4e49\\u52a8\\u4f5c\\n        result = env.step(action) # \\u6b65\\u8fdb\\u5e76\\u63a5\\u53d7\\u8fd4\\u56de\\u503c\\n        y[i] = result[\\&quot;test\\&quot;][\\&quot;Ny\\&quot;] # \\u4ece\\u8fd4\\u56de\\u7684\\u5b57\\u5178\\u4e2d\\u63d0\\u53d6\\u9700\\u8981\\u7684\\u503c\\n\\n    # \\u7ed8\\u56fe\\n    import matplotlib.pyplot as plt\\n    plt.plot(x, y)\\n    plt.xlabel(\\&quot;Time (s)\\&quot;)\\n    plt.ylabel(\\&quot;Ny\\&quot;)\\n    plt.axhline(y=Nyc, color=&#39;r&#39;, linestyle=&#39;--&#39;, alpha=0.5)\\n    plt.show()\\n\\n    print(env.to_dict())</span></div>","classes":"torchlight","styles":"background-color: #FFFFFF; --theme-selection-background: #4373c2;"}}
