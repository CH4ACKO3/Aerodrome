{"expires":1743604765.103,"value":{"highlighted":"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  1</span><span style=\"color: #D73A49;\">class</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">CartPoleEnv</span><span style=\"color: #24292E;\"> : </span><span style=\"color: #D73A49;\">public</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">BaseEnv</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  2</span><span style=\"color: #24292E;\">{</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  3</span><span style=\"color: #D73A49;\">private:</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  4</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> gravity </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">9.81</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  5</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> masscart </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">1.0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  6</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> masspole </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0.1</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  7</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> total_mass </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> masspole </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> masscart;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  8</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> length </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0.5</span><span style=\"color: #24292E;\">;</span><span style=\"color: #6A737D;\"> // half the pole&#39;s length</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">  9</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> polemass_length </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> masspole </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> length;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 10</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> force_mag </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">10.0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 11</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> tau </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0.02</span><span style=\"color: #24292E;\">;</span><span style=\"color: #6A737D;\"> // seconds between state updates</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 12</span><span style=\"color: #24292E;\">    </span><span style=\"color: #6F42C1;\">std</span><span style=\"color: #24292E;\">::string kinematic_integrator </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #032F62;\">&quot;euler&quot;</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 13</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 14</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> theta_threshold_radians </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">12</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">3.1415926</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">360</span><span style=\"color: #24292E;\">;</span><span style=\"color: #6A737D;\"> // angle at which to fail the episode</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 15</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> x_threshold </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">2.4</span><span style=\"color: #24292E;\">;</span><span style=\"color: #6A737D;\"> // distance at which to fail the episode</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 16</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 17</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> x </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 18</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> theta </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 19</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> x_dot </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 20</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> theta_dot </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 21</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 22</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">int</span><span style=\"color: #24292E;\"> time_step </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 23</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">int</span><span style=\"color: #24292E;\"> max_steps </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">200</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 24</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">bool</span><span style=\"color: #24292E;\"> steps_beyond_done </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">false</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 25</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 26</span><span style=\"color: #D73A49;\">public:</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 27</span><span style=\"color: #24292E;\">    </span><span style=\"color: #6F42C1;\">CartPoleEnv</span><span style=\"color: #24292E;\">() {}</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 28</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 29</span><span style=\"color: #24292E;\">    </span><span style=\"color: #6F42C1;\">~CartPoleEnv</span><span style=\"color: #24292E;\">() {}</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 30</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 31</span><span style=\"color: #24292E;\">    </span><span style=\"color: #6F42C1;\">py</span><span style=\"color: #24292E;\">::</span><span style=\"color: #6F42C1;\">object</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">reset</span><span style=\"color: #24292E;\">() </span><span style=\"color: #D73A49;\">override</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 32</span><span style=\"color: #24292E;\">    {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 33</span><span style=\"color: #24292E;\">        </span><span style=\"color: #6F42C1;\">py</span><span style=\"color: #24292E;\">::dict result;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 34</span><span style=\"color: #24292E;\">        </span><span style=\"color: #6F42C1;\">std</span><span style=\"color: #24292E;\">::random_device rd;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 35</span><span style=\"color: #24292E;\">        </span><span style=\"color: #6F42C1;\">std</span><span style=\"color: #24292E;\">::mt19937 </span><span style=\"color: #6F42C1;\">gen</span><span style=\"color: #24292E;\">(</span><span style=\"color: #6F42C1;\">rd</span><span style=\"color: #24292E;\">());</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 36</span><span style=\"color: #24292E;\">        </span><span style=\"color: #6F42C1;\">std</span><span style=\"color: #24292E;\">::uniform_real_distribution</span><span style=\"color: #D73A49;\">&lt;&gt;</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">dis</span><span style=\"color: #24292E;\">(</span><span style=\"color: #D73A49;\">-</span><span style=\"color: #005CC5;\">0.05</span><span style=\"color: #24292E;\">, </span><span style=\"color: #005CC5;\">0.05</span><span style=\"color: #24292E;\">);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 37</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 38</span><span style=\"color: #24292E;\">        x </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">dis</span><span style=\"color: #24292E;\">(gen);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 39</span><span style=\"color: #24292E;\">        x_dot </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">dis</span><span style=\"color: #24292E;\">(gen);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 40</span><span style=\"color: #24292E;\">        theta </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">dis</span><span style=\"color: #24292E;\">(gen);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 41</span><span style=\"color: #24292E;\">        theta_dot </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">dis</span><span style=\"color: #24292E;\">(gen);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 42</span><span style=\"color: #24292E;\">        time_step </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 43</span><span style=\"color: #24292E;\">        steps_beyond_done </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">false</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 44</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 45</span><span style=\"color: #24292E;\">        result[</span><span style=\"color: #032F62;\">&quot;observation&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">py</span><span style=\"color: #24292E;\">::</span><span style=\"color: #6F42C1;\">make_tuple</span><span style=\"color: #24292E;\">(x, x_dot, theta, theta_dot);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 46</span><span style=\"color: #24292E;\">        result[</span><span style=\"color: #032F62;\">&quot;info&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #032F62;\">&quot;&quot;</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 47</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">return</span><span style=\"color: #24292E;\"> result;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 48</span><span style=\"color: #24292E;\">    }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 49</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 50</span><span style=\"color: #24292E;\">    </span><span style=\"color: #6F42C1;\">py</span><span style=\"color: #24292E;\">::</span><span style=\"color: #6F42C1;\">object</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">step</span><span style=\"color: #24292E;\">(</span><span style=\"color: #D73A49;\">const</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">py</span><span style=\"color: #24292E;\">::</span><span style=\"color: #6F42C1;\">object</span><span style=\"color: #D73A49;\">&amp;</span><span style=\"color: #24292E;\"> </span><span style=\"color: #E36209;\">input_dict</span><span style=\"color: #24292E;\">) </span><span style=\"color: #D73A49;\">override</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 51</span><span style=\"color: #24292E;\">    {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 52</span><span style=\"color: #24292E;\">        </span><span style=\"color: #6F42C1;\">py</span><span style=\"color: #24292E;\">::dict result;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 53</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">if</span><span style=\"color: #24292E;\"> (</span><span style=\"color: #D73A49;\">!</span><span style=\"color: #24292E;\">input_dict.</span><span style=\"color: #6F42C1;\">contains</span><span style=\"color: #24292E;\">(</span><span style=\"color: #032F62;\">&quot;action&quot;</span><span style=\"color: #24292E;\">))</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 54</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 55</span><span style=\"color: #24292E;\">            result[</span><span style=\"color: #032F62;\">&quot;info&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #032F62;\">&quot;input_dict does not contain &#39;action&#39;&quot;</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 56</span><span style=\"color: #24292E;\">            </span><span style=\"color: #D73A49;\">return</span><span style=\"color: #24292E;\"> result;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 57</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 58</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 59</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">int</span><span style=\"color: #24292E;\"> action;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 60</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">try</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 61</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 62</span><span style=\"color: #24292E;\">            action </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> input_dict[</span><span style=\"color: #032F62;\">&quot;action&quot;</span><span style=\"color: #24292E;\">].cast</span><span style=\"color: #D73A49;\">&lt;int&gt;</span><span style=\"color: #24292E;\">();</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 63</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 64</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">catch</span><span style=\"color: #24292E;\"> (</span><span style=\"color: #D73A49;\">const</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">std</span><span style=\"color: #24292E;\">::exception </span><span style=\"color: #D73A49;\">&amp;</span><span style=\"color: #24292E;\">e)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 65</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 66</span><span style=\"color: #24292E;\">            result[</span><span style=\"color: #032F62;\">&quot;info&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">std</span><span style=\"color: #24292E;\">::</span><span style=\"color: #6F42C1;\">string</span><span style=\"color: #24292E;\">(</span><span style=\"color: #032F62;\">&quot;failed to convert action to int: &quot;</span><span style=\"color: #24292E;\">) </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> e.</span><span style=\"color: #6F42C1;\">what</span><span style=\"color: #24292E;\">();</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 67</span><span style=\"color: #24292E;\">            </span><span style=\"color: #D73A49;\">return</span><span style=\"color: #24292E;\"> result;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 68</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 69</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 70</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">if</span><span style=\"color: #24292E;\"> (action </span><span style=\"color: #D73A49;\">!=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">&amp;&amp;</span><span style=\"color: #24292E;\"> action </span><span style=\"color: #D73A49;\">!=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 71</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 72</span><span style=\"color: #24292E;\">            result[</span><span style=\"color: #032F62;\">&quot;info&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #032F62;\">&quot;action must be either 0 or 1&quot;</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 73</span><span style=\"color: #24292E;\">            </span><span style=\"color: #D73A49;\">return</span><span style=\"color: #24292E;\"> result;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 74</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 75</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 76</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> force </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> action </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> force_mag;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 77</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> costheta </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(theta);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 78</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> sintheta </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(theta);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 79</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 80</span><span style=\"color: #6A737D;\">        // For the interested reader:</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 81</span><span style=\"color: #6A737D;\">        // https://coneural.org/florian/papers/05_cart_pole.pdf</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 82</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> temp </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> (force </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> polemass_length </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> theta_dot </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> theta_dot </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> sintheta) </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> total_mass;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 83</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> theta_acc </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> (gravity </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> sintheta </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> costheta </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> temp) </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> (length </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> (</span><span style=\"color: #005CC5;\">4.0</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">3.0</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> masspole </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> costheta </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> costheta </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> total_mass));</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 84</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> x_acc </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> temp </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> polemass_length </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> theta_acc </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> costheta </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> total_mass;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 85</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 86</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">if</span><span style=\"color: #24292E;\"> (kinematic_integrator </span><span style=\"color: #D73A49;\">==</span><span style=\"color: #24292E;\"> </span><span style=\"color: #032F62;\">&quot;euler&quot;</span><span style=\"color: #24292E;\">)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 87</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 88</span><span style=\"color: #24292E;\">            x </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> x </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> tau </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> x_dot;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 89</span><span style=\"color: #24292E;\">            x_dot </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> x_dot </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> tau </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> x_acc;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 90</span><span style=\"color: #24292E;\">            theta </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> theta </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> tau </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> theta_dot;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 91</span><span style=\"color: #24292E;\">            theta_dot </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> theta_dot </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> tau </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> theta_acc;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 92</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 93</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">else</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">if</span><span style=\"color: #24292E;\"> (kinematic_integrator </span><span style=\"color: #D73A49;\">==</span><span style=\"color: #24292E;\"> </span><span style=\"color: #032F62;\">&quot;semi-implicit-euler&quot;</span><span style=\"color: #24292E;\">)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 94</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 95</span><span style=\"color: #24292E;\">            x_dot </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> x_dot </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> tau </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> x_acc;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 96</span><span style=\"color: #24292E;\">            x </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> x </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> tau </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> x_dot;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 97</span><span style=\"color: #24292E;\">            theta_dot </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> theta_dot </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> tau </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> theta_acc;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 98</span><span style=\"color: #24292E;\">            theta </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> theta </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> tau </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> theta_dot;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 99</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">100</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">else</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">101</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">102</span><span style=\"color: #24292E;\">            result[</span><span style=\"color: #032F62;\">&quot;info&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #032F62;\">&quot;unknown kinematic integrator&quot;</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">103</span><span style=\"color: #24292E;\">            </span><span style=\"color: #D73A49;\">return</span><span style=\"color: #24292E;\"> result;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">104</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">105</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">106</span><span style=\"color: #24292E;\">        time_step </span><span style=\"color: #D73A49;\">++</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">107</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">bool</span><span style=\"color: #24292E;\"> terminated </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> ((x </span><span style=\"color: #D73A49;\">&lt;</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\">x_threshold) </span><span style=\"color: #D73A49;\">||</span><span style=\"color: #24292E;\"> (x </span><span style=\"color: #D73A49;\">&gt;</span><span style=\"color: #24292E;\"> x_threshold) </span><span style=\"color: #D73A49;\">||</span><span style=\"color: #24292E;\"> (theta </span><span style=\"color: #D73A49;\">&lt;</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\">theta_threshold_radians) </span><span style=\"color: #D73A49;\">||</span><span style=\"color: #24292E;\"> (theta </span><span style=\"color: #D73A49;\">&gt;</span><span style=\"color: #24292E;\"> theta_threshold_radians));</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">108</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">bool</span><span style=\"color: #24292E;\"> truncated </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> (time_step </span><span style=\"color: #D73A49;\">&gt;=</span><span style=\"color: #24292E;\"> max_steps);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">109</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">110</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">double</span><span style=\"color: #24292E;\"> reward;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">111</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">if</span><span style=\"color: #24292E;\"> (</span><span style=\"color: #D73A49;\">!</span><span style=\"color: #24292E;\">terminated </span><span style=\"color: #D73A49;\">&amp;&amp;</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">!</span><span style=\"color: #24292E;\">truncated)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">112</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">113</span><span style=\"color: #24292E;\">            reward </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">1.0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">114</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">115</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">else</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">if</span><span style=\"color: #24292E;\"> (</span><span style=\"color: #D73A49;\">!</span><span style=\"color: #24292E;\">steps_beyond_done)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">116</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">117</span><span style=\"color: #24292E;\">            </span><span style=\"color: #D73A49;\">if</span><span style=\"color: #24292E;\"> (terminated)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">118</span><span style=\"color: #24292E;\">            {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">119</span><span style=\"color: #24292E;\">                reward </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0.0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">120</span><span style=\"color: #24292E;\">            }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">121</span><span style=\"color: #24292E;\">            </span><span style=\"color: #D73A49;\">else</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">if</span><span style=\"color: #24292E;\"> (truncated)</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">122</span><span style=\"color: #24292E;\">            {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">123</span><span style=\"color: #24292E;\">                reward </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">1.0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">124</span><span style=\"color: #24292E;\">            }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">125</span><span style=\"color: #24292E;\">            steps_beyond_done </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">true</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">126</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">127</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">else</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">128</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">129</span><span style=\"color: #24292E;\">            reward </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #005CC5;\">0.0</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">130</span><span style=\"color: #24292E;\">            result[</span><span style=\"color: #032F62;\">&quot;info&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #032F62;\">&quot;You are calling &#39;step()&#39; even though this environment has already returned terminated = True. &quot;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">131</span><span style=\"color: #24292E;\">                              </span><span style=\"color: #032F62;\">&quot;You should always call &#39;reset()&#39; once you receive &#39;terminated = True&#39; -- any further steps are undefined behavior.&quot;</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">132</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">133</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">134</span><span style=\"color: #24292E;\">        result[</span><span style=\"color: #032F62;\">&quot;observation&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">py</span><span style=\"color: #24292E;\">::</span><span style=\"color: #6F42C1;\">make_tuple</span><span style=\"color: #24292E;\">(x, x_dot, theta, theta_dot);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">135</span><span style=\"color: #24292E;\">        result[</span><span style=\"color: #032F62;\">&quot;reward&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> reward;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">136</span><span style=\"color: #24292E;\">        result[</span><span style=\"color: #032F62;\">&quot;terminated&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> terminated;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">137</span><span style=\"color: #24292E;\">        result[</span><span style=\"color: #032F62;\">&quot;truncated&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> truncated;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">138</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">139</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">if</span><span style=\"color: #24292E;\"> (</span><span style=\"color: #D73A49;\">!</span><span style=\"color: #24292E;\">result.</span><span style=\"color: #6F42C1;\">contains</span><span style=\"color: #24292E;\">(</span><span style=\"color: #032F62;\">&quot;info&quot;</span><span style=\"color: #24292E;\">))</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">140</span><span style=\"color: #24292E;\">        {</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">141</span><span style=\"color: #24292E;\">            result[</span><span style=\"color: #032F62;\">&quot;info&quot;</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #032F62;\">&quot;&quot;</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">142</span><span style=\"color: #24292E;\">        }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">143</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">144</span><span style=\"color: #24292E;\">        </span><span style=\"color: #D73A49;\">return</span><span style=\"color: #24292E;\"> result;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">145</span><span style=\"color: #24292E;\">    }</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">146</span><span style=\"color: #24292E;\">};</span></div>","classes":"torchlight","styles":"background-color: #fff; --theme-selection-background: #e2e5e9;"}}
