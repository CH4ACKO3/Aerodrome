{"expires":1743604764.282,"value":{"highlighted":"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 1</span><span style=\"color: #D73A49;\">virtual</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">Object3D</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">d</span><span style=\"color: #24292E;\">() </span><span style=\"color: #D73A49;\">override</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 2</span><span style=\"color: #24292E;\">{   </span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 3</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">auto</span><span style=\"color: #24292E;\"> derivative </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #005CC5;\">this</span><span style=\"color: #24292E;\">;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 4</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 5</span><span style=\"color: #24292E;\">    derivative.V </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> (T </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(alpha) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(beta) </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> D </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> m </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> g </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(theta_v)) </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> m;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 6</span><span style=\"color: #24292E;\">    derivative.theta_v </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> (T </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> (</span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(alpha) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(gamma_v) </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(alpha) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(beta) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(gamma_v))</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 7</span><span style=\"color: #24292E;\">                            </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> L </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(gamma_v) </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> N </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(gamma_v) </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> m </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> g </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(theta_v)) </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> (m </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> V);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 8</span><span style=\"color: #24292E;\">    derivative.phi_v </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\">(T </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> (</span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(alpha) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(gamma_v) </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(alpha) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(beta) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(gamma_v))</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"> 9</span><span style=\"color: #24292E;\">                        </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> L </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(gamma_v) </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> N </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(gamma_v)) </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> (m </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> V </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(theta_v));</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">10</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">11</span><span style=\"color: #24292E;\">    derivative.ang_vel[</span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> (M[</span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> (J[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> J[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">]) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">]) </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> J[</span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">];</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">12</span><span style=\"color: #24292E;\">    derivative.ang_vel[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> (M[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> (J[</span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> J[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">]) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">]) </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> J[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">];</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">13</span><span style=\"color: #24292E;\">    derivative.ang_vel[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> (M[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> (J[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> J[</span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">]) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">]) </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> J[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">];</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">14</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">15</span><span style=\"color: #24292E;\">    derivative.theta </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(gamma) </span><span style=\"color: #D73A49;\">+</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(gamma);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">16</span><span style=\"color: #24292E;\">    derivative.phi </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> (ang_vel[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(gamma) </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(gamma)) </span><span style=\"color: #D73A49;\">/</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(theta);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">17</span><span style=\"color: #24292E;\">    derivative.gamma </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">tan</span><span style=\"color: #24292E;\">(theta) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> (ang_vel[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(gamma) </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\"> ang_vel[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(gamma));</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">18</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">19</span><span style=\"color: #24292E;\">    derivative.pos[</span><span style=\"color: #005CC5;\">0</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> V </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(theta_v) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(phi_v);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">20</span><span style=\"color: #24292E;\">    derivative.pos[</span><span style=\"color: #005CC5;\">1</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> V </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(theta_v);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">21</span><span style=\"color: #24292E;\">    derivative.pos[</span><span style=\"color: #005CC5;\">2</span><span style=\"color: #24292E;\">] </span><span style=\"color: #D73A49;\">=</span><span style=\"color: #24292E;\"> </span><span style=\"color: #D73A49;\">-</span><span style=\"color: #24292E;\">V </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">cos</span><span style=\"color: #24292E;\">(theta_v) </span><span style=\"color: #D73A49;\">*</span><span style=\"color: #24292E;\"> </span><span style=\"color: #6F42C1;\">sin</span><span style=\"color: #24292E;\">(phi_v);</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">22</span>&nbsp;</div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">23</span><span style=\"color: #24292E;\">    </span><span style=\"color: #D73A49;\">return</span><span style=\"color: #24292E;\"> derivative;</span></div><div class='line'><span style=\"color:#1b1f234d; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">24</span><span style=\"color: #24292E;\">}</span></div>","classes":"torchlight","styles":"background-color: #fff; --theme-selection-background: #e2e5e9;"}}
