{"expires":1743605056.898,"value":{"highlighted":"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style=\"color:#2f86d2; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\">1</span><span style=\"color: #002339;\">class MinimalEnv : public BaseEnv { // \\u7ee7\\u627f\\u81ea BaseEnv\\npublic:\\n    MinimalEnv() : cpp_state(0) {} // \\u521d\\u59cb\\u5316 cpp_state \\u4e3a 0\\n\\n    ~MinimalEnv() {} // \\u6790\\u6784\\u51fd\\u6570\\n\\n    py::object reset() override // \\u91cd\\u5199 BaseEnv \\u4e2d\\u5b9a\\u4e49\\u7684 reset \\u65b9\\u6cd5\\n    {\\n        py::dict result; // \\u521b\\u5efa\\u4e00\\u4e2a\\u5b57\\u5178\\u6765\\u5b58\\u50a8\\u8981\\u8fd4\\u56de\\u7684\\u7ed3\\u679c\\n        cpp_state = 0; // \\u5c06 cpp_state \\u91cd\\u7f6e\\u4e3a 0\\n        result[\\&quot;cpp_state\\&quot;] = cpp_state;\\n        result[\\&quot;info\\&quot;] = \\&quot;\\&quot;;\\n        return result;\\n    }\\n\\n    py::object step(const py::object&amp; action) override // step \\u65b9\\u6cd5\\u4ece Python \\u7aef\\u63a5\\u6536\\u52a8\\u4f5c\\n    {\\n        // \\u5728\\u6bcf\\u4e00\\u6b65\\u4e2d\\uff0c\\u73af\\u5883\\u5c06 action[\\&quot;value\\&quot;] \\u7684\\u503c\\u52a0\\u5230\\u5176 cpp_state \\u4e0a\\n        py::dict result;\\n        if (action.contains(\\&quot;value\\&quot;))\\n        {\\n            try {\\n                int value = action[\\&quot;value\\&quot;].cast&lt;int&gt;(); // \\u5c06 action[\\&quot;value\\&quot;] \\u7684\\u503c\\u8f6c\\u6362\\u4e3a\\u6574\\u6570\\n                cpp_state += value; // \\u5c06\\u8be5\\u503c\\u52a0\\u5230 cpp_state \\u4e0a\\n            } catch (const std::exception &amp;e) {\\n                result[\\&quot;info\\&quot;] = std::string(\\&quot;failed to convert value to int: \\&quot;) + e.what(); // \\u5982\\u679c\\u8be5\\u503c\\u4e0d\\u662f\\u6574\\u6570\\uff0c\\u5728\\u7ed3\\u679c\\u4e2d\\u6dfb\\u52a0\\u9519\\u8bef\\u4fe1\\u606f\\n            }\\n        }\\n        else\\n        {\\n            result[\\&quot;info\\&quot;] = \\&quot;error: action must contain &#39;value&#39;\\&quot;;\\n        }\\n\\n        result[\\&quot;cpp_state\\&quot;] = cpp_state;\\n        if (!result.contains(\\&quot;info\\&quot;))\\n        {\\n            // \\u5982\\u679c\\u7ed3\\u679c\\u4e2d\\u6ca1\\u6709 info \\u952e\\uff0c\\u6dfb\\u52a0\\u4e00\\u4e2a\\u7a7a\\u5b57\\u7b26\\u4e32\\uff0c\\u4ee5\\u907f\\u514d key error\\n            result[\\&quot;info\\&quot;] = \\&quot;\\&quot;;\\n        }\\n        return result;\\n    }\\n\\nprivate:\\n    int cpp_state = 0; // \\u79c1\\u6709\\u6210\\u5458\\u53d8\\u91cf\\uff0c\\u7528\\u4e8e\\u5b58\\u50a8\\u73af\\u5883\\u7684\\u72b6\\u6001\\n};</span></div>","classes":"torchlight","styles":"background-color: #FFFFFF; --theme-selection-background: #4373c2;"}}
